<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuÃ­a de Despliegue Manual - Panel de AdministraciÃ³n</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2563eb;
            font-size: 28px;
            margin-bottom: 30px;
            text-align: center;
        }
        h2 {
            color: #1e293b;
            font-size: 20px;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        p {
            color: #475569;
            margin-bottom: 15px;
        }
        .step {
            background-color: #f0f9ff;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .step-number {
            font-weight: bold;
            color: #2563eb;
            font-size: 18px;
            margin-bottom: 5px;
        }
        .code {
            background-color: #1e1e1e;
            color: #00ff9d;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .note {
            background-color: #fef3c7;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #f59e0b;
            margin-bottom: 20px;
        }
        .success {
            background-color: #d1fae5;
            color: #065f46;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #10b981;
            margin-bottom: 20px;
        }
        .copy-btn {
            background-color: #2563eb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }
        .copy-btn:hover {
            background-color: #1d4ed8;
        }
        .file-name {
            background-color: #f8fafc;
            padding: 8px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 14px;
            color: #64748b;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Panel de AdministraciÃ³n - GuÃ­a de Despliegue Manual</h1>

        <div class="success">
            <p><strong>Â¡ARCHIVO CREADO CON Ã‰XITO!</strong> Sigue estos pasos para subir los cambios manualmente a Vercel.</p>
        </div>

        <h2>ğŸ“‹ Paso 1: Actualizar las variables de entorno en Vercel</h2>

        <div class="step">
            <div class="step-number">PASO 1.1</div>
            <p>Entra a Vercel Dashboard:</p>
            <a href="https://vercel.com/dashboard" target="_blank" style="color: #2563eb;">https://vercel.com/dashboard</a>
        </div>

        <div class="step">
            <div class="step-number">PASO 1.2</div>
            <p>Abre tu proyecto: <strong>digitalstore-lion</strong></p>
        </div>

        <div class="step">
            <div class="step-number">PASO 1.3</div>
            <p>Ve a la pestaÃ±a <strong>"Settings"</strong> (ConfiguraciÃ³n)</p>
        </div>

        <div class="step">
            <div class="step-number">PASO 1.4</div>
            <p>En el menÃº lateral, haz clic en <strong>"Environment Variables"</strong> (Variables de Entorno)</p>
        </div>

        <div class="step">
            <div class="step-number">PASO 1.5</div>
            <p>Verifica que las siguientes variables estÃ©n configuradas (con Environment: Production, Preview, Development):</p>
            <ul>
                <li>âœ… <strong>NEXT_PUBLIC_SUPABASE_URL:</strong> https://ercorogrosythlyrvqia.supabase.co</li>
                <li>âœ… <strong>NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY:</strong> sb_publishable_7Ut5_kRpL_rmYxjFlSz7Gg_QsoLwnQp</li>
                <li>âœ… <strong>NEXTAUTH_SECRET:</strong> (cualquier cadena larga y aleatoria, mÃ­nimo 32 caracteres)</li>
                <li>âœ… <strong>NEXTAUTH_URL:</strong> https://digitalstore-lion.vercel.app</li>
            </ul>
        </div>

        <h2>ğŸ“ Paso 2: Desplegar los cambios en Vercel</h2>

        <div class="step">
            <div class="step-number">PASO 2.1</div>
            <p>En el menÃº lateral, haz clic en <strong>"Deployments"</strong> (Despliegues)</p>
        </div>

        <div class="step">
            <div class="step-number">PASO 2.2</div>
            <p>Busca el deployment mÃ¡s reciente (debe estar arriba)</p>
        </div>

        <div class="step">
            <div class="step-number">PASO 2.3</div>
            <p>Verifica el estado:</p>
            <ul>
                <li>âœ… <strong>Ready:</strong> Despliegue completado (es lo que queremos)</li>
                <li>ğŸŸ¡ <strong>Building:</strong> Compilando (espera 2-3 minutos)</li>
                <li>ğŸ”´ <strong>Failed/Error:</strong> Hubo un error en la compilaciÃ³n (ve los logs)</li>
            </ul>
        </div>

        <div class="step">
            <div class="step-number">PASO 2.4</div>
            <p>Si hay un error, haz clic en <strong>"Logs"</strong> para ver quÃ© saliÃ³ mal</p>
        </div>

        <div class="step">
            <div class="step-number">PASO 2.5</div>
            <p>Para forzar un nuevo despliegue, haz clic en el botÃ³n <strong>"Redeploy"</strong> (flecha cÃ­clica â†») en la esquina superior derecha del deployment</p>
        </div>

        <h2>âœ… Paso 3: Verificar el despliegue</h2>

        <div class="step">
            <div class="step-number">PASO 3.1</div>
            <p>Entra a tu aplicaciÃ³n en el navegador:</p>
            <a href="https://digitalstore-lion.vercel.app/admin" target="_blank" style="color: #2563eb;">https://digitalstore-lion.vercel.app/admin</a>
        </div>

        <div class="step">
            <div class="step-number">PASO 3.2</div>
            <p>Debes ver:</p>
            <ul>
                <li>âœ… Header: "Panel de AdministraciÃ³n"</li>
                <li>âœ… Cards de resumen rÃ¡pido (Plataforma, Usuarios, Ventas, Ingresos)</li>
                <li>âœ… Card de informaciÃ³n de administrador</li>
                <li>âœ… Card de mÃ©tricas globales</li>
                <li>âœ… Tabla de tiendas (o mensaje "No hay tiendas registradas")</li>
                <li>âœ… Footer con copyright</li>
            </ul>
        </div>

        <div class="step">
            <div class="step-number">PASO 3.3</div>
            <p>Si ves un error o la pÃ¡gina blanca, haz lo siguiente:</p>
            <ul>
                <li>ğŸ”’ Espera 1-2 minutos a que el despliegue se complete</li>
                <li>ğŸ”„ Refresca la pÃ¡gina (F5)</li>
                <li>ğŸ§¹ Limpia el cachÃ© del navegador (Ctrl+Shift+Delete)</li>
                <li>ğŸ“‹ Verifica los logs en Vercel Dashboard</li>
            </ul>
        </div>

        <h2>ğŸ“‚ Paso 4: Archivos Modificados/Recomendados</h2>

        <div class="note">
            <p><strong>Archivos creados/actualizados:</strong></p>
            <ul>
                <li>âœ… <code>src/app/admin/page.tsx</code> - PÃ¡gina principal del panel de administraciÃ³n</li>
                <li>âœ… <code>src/components/admin/PanelGestionTiendas.tsx</code> - Componente con la tabla de tiendas y todas las acciones (suspender, activar, renovar licencia, eliminar)</li>
                <li>âœ… Supabase: Tablas creadas (Tienda, UsuarioTienda, Producto, Venta, DetalleVenta, Compra, DetalleCompra, Alerta)</li>
                <li>âœ… Supabase: RLS habilitado para todas las tablas</li>
                <li>âœ… Supabase: PolÃ­ticas de lectura (SELECT) creadas para todas las tablas</li>
            </ul>
        </div>

        <h2>ğŸ’¡ CaracterÃ­sticas del Panel de AdministraciÃ³n</h2>

        <div class="note">
            <p><strong>QuÃ© incluye el panel:</strong></p>
            <ul>
                <li>ğŸ“Š <strong>MÃ©tricas Globales:</strong> Total tiendas, tiendas activas, tiendas suspendidas, total usuarios</li>
                <li>ğŸ“‹ <strong>Tabla de Tiendas:</strong> Lista completa con todas las tiendas registradas</li>
                <li>ğŸ” <strong>InformaciÃ³n de Tienda:</strong> Dialog con detalles completos de cada tienda (nombre, email, direcciÃ³n, telÃ©fono, estado, licencia)</li>
                <li>ğŸ‘¥ <strong>Usuarios de la Tienda:</strong> Lista de usuarios de cada tienda</li>
                <li>â° <strong>Control de Licencia:</strong> Ver dÃ­as restantes, renovar automÃ¡ticamente (+1 aÃ±o)</li>
                <li>ğŸ”„ <strong>Suspender/Activar:</strong> Control de acceso segÃºn pagos</li>
                <li>ğŸ—‘ï¸ <strong>Eliminar Tienda:</strong> Borrar tienda con todos sus datos (cascade delete)</li>
                <li>ğŸ’° <strong>MonetizaciÃ³n:</strong> InformaciÃ³n sobre cÃ³mo cobrar por tienda, por usuario adicional, planes con lÃ­mites de productos, ingresos pasivos</li>
                <li>ğŸ’¡ <strong>Tips de AdministraciÃ³n:</strong> GuÃ­a sobre cÃ³mo gestionar el sistema multi-tenant</li>
            </ul>
        </div>

        <div class="success">
            <p><strong>Â¡ESTÃS LISTO!</strong> Sigue los pasos arriba para desplegar y ver tu nuevo Panel de AdministraciÃ³n.</p>
            <p><strong>URL del Panel:</strong> <a href="https://digitalstore-lion.vercel.app/admin" target="_blank">https://digitalstore-lion.vercel.app/admin</a></p>
            <p><strong>URL de Vercel Dashboard:</strong> <a href="https://vercel.com/dashboard" target="_blank">https://vercel.com/dashboard</a></p>
        </div>

        <hr style="margin: 30px 0; border-top: 1px solid #e2e8f0;">

        <div class="note">
            <p><strong>Â¿Tienes problemas con el despliegue?</strong></p>
            <ul>
                <li>ğŸ“‹ Verifica los <strong>Logs</strong> en Vercel Dashboard</li>
                <li>âš™ï¸ Verifica que las <strong>Environment Variables</strong> estÃ©n correctas</li>
                <li>ğŸ”„ Intenta hacer <strong>Redeploy</strong> del deployment</li>
                <li>ğŸ“ Si el problema persiste, cuÃ©ntame los detalles del error</li>
            </ul>
        </div>

        <hr style="margin: 30px 0; border-top: 1px solid #e2e8f0;">

        <div class="note">
            <p><strong>Recordatorio:</strong> Este archivo es una guÃ­a HTML. Los cambios ya estÃ¡n en tu proyecto en:</p>
            <div class="file-name">/home/z/my-project/</div>
            <ul>
                <li>âœ… <code>src/app/admin/page.tsx</code></li>
                <li>âœ… <code>src/components/admin/PanelGestionTiendas.tsx</code></li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 40px; color: #6b7280;">
            <p>Generado automÃ¡ticamente el 30 de diciembre de 2024</p>
            <p>Para el proyecto: digitalstore-lion</p>
        </div>
    </div>
</body>
</html>
